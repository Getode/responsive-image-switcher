(()=>{"use strict";const e=window.wp.blocks,i=window.wp.blockEditor,s=window.wp.components,r=window.wp.data,t=window.wp.coreData,a=window.wp.i18n,n=window.ReactJSXRuntime;(0,e.registerBlockType)("respimgsw/responsive-image-switcher",{title:(0,a.__)("Responsive Image Switcher","responsive-image-switcher"),icon:"images-alt2",category:"media",attributes:{imageId:{type:"number",default:0},mobileImageId:{type:"number",default:0}},edit:({attributes:e,setAttributes:o})=>{const{imageId:l,mobileImageId:c}=e,d=(0,r.useSelect)((e=>{if(!l)return null;const i=e(t.store).getMedia(l);return i?i.source_url:null}),[l]),p=(0,r.useSelect)((e=>{if(!c)return null;const i=e(t.store).getMedia(c);return i?i.source_url:null}),[c]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:(0,a.__)("Select an image for desktop (â‰¥ 768px):","responsive-image-switcher")}),(0,n.jsx)(i.MediaUploadCheck,{children:(0,n.jsx)(i.MediaUpload,{onSelect:e=>{o({imageId:e.id})},value:l,allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(s.Button,{onClick:e,variant:"primary",children:l?(0,a.__)("Replace Desktop Image","responsive-image-switcher"):(0,a.__)("Select Desktop Image","responsive-image-switcher")})})}),l&&d?(0,n.jsx)("img",{src:d,alt:(0,a.__)("Desktop image preview","responsive-image-switcher"),style:{maxWidth:"100%"}}):l?(0,n.jsx)("p",{children:(0,a.__)("Loading image...","responsive-image-switcher")}):null]}),(0,n.jsx)(i.InspectorControls,{children:(0,n.jsxs)(s.PanelBody,{title:(0,a.__)("Mobile Settings","responsive-image-switcher"),children:[(0,n.jsx)("p",{children:(0,a.__)("Select an image for mobile (< 768px):","responsive-image-switcher")}),(0,n.jsx)(i.MediaUploadCheck,{children:(0,n.jsx)(i.MediaUpload,{onSelect:e=>{o({mobileImageId:e.id})},value:c,allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(s.Button,{onClick:e,variant:"primary",children:c?(0,a.__)("Replace Mobile Image","responsive-image-switcher"):(0,a.__)("Select Mobile Image","responsive-image-switcher")})})}),c&&p?(0,n.jsx)("img",{src:p,alt:(0,a.__)("Mobile image preview","responsive-image-switcher"),style:{maxWidth:"100%",marginTop:"10px"}}):c?(0,n.jsx)("p",{children:(0,a.__)("Loading image...","responsive-image-switcher")}):null]})})]})}})})();